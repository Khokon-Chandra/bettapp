From: <Saved by Blink>
Snapshot-Content-Location: https://dashboard.baqend.com/v1/code/urlProxy?url=https://www.baqend.com/speed-kit/latest/sw.js
Subject: 
Date: Fri, 14 Feb 2020 06:15:27 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--GvNk5QKdjzZCfZrBP0KQdbrLGsBHcsqZYUhx3BcNyx----"


------MultipartBoundary--GvNk5QKdjzZCfZrBP0KQdbrLGsBHcsqZYUhx3BcNyx----
Content-Type: text/html
Content-ID: <frame-DAA78C4DFF279D86C6E98D9C43C0FD9C@mhtml.blink>
Content-Transfer-Encoding: binary
Content-Location: https://dashboard.baqend.com/v1/code/urlProxy?url=https://www.baqend.com/speed-kit/latest/sw.js

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body>/* ! speed-kit 2.0.1 | Copyright (c) 2019 Baqend GmbH */
"use strict";const e="accept",t=`${e}-language`,s="content-language",i="content-type";function r(e){const t=e.lastIndexOf(".");return-1===t||e.lastIndexOf("/")&gt;t?"":e.substr(t).toLowerCase()}var n;function a(t){if("navigate"===t.mode)return n.Navigate;const s=function(e){for(const t of Object.values(n))if(t===e)return t;return n.Undefined}(t.destination||"");if(s!==n.Undefined)return t.url,s;const i=function(e){const t=[];return e&amp;&amp;"*/*"!==e?((e.includes("text/html")||e.includes("application/xhtml+xml"))&amp;&amp;t.push(n.Document),e.includes("text/css")&amp;&amp;t.push(n.Style),(e.includes("text/javascript")||e.includes("application/javascript")||e.includes("application/wasm"))&amp;&amp;t.push(n.Script),e.includes("image/")&amp;&amp;t.push(n.Image),e.includes("font/")&amp;&amp;t.push(n.Font),e.includes("video/")&amp;&amp;t.push(n.Video),e.includes("audio/")&amp;&amp;t.push(n.Audio),e.includes("text/vtt")&amp;&amp;t.push(n.Track),1===t.length?t[0]:n.Undefined):n.Undefined}(t.headers.get(e)||"");if(i!==n.Undefined)return t.url,i;const{pathname:a}=new URL(t.url),o=function(e){switch(e){case".js":case".mjs":case".wasm":case".wast":return n.Script;case".html":case".htm":return n.Document;case".css":return n.Style;case".woff2":case".woff":case".ttf":case".otf":case".eot":return n.Font;case".mp3":case".wav":return n.Audio;case".vtt":return n.Track;case".png":case".jpeg":case".jpg":case".gif":case".svg":case".ico":case".webp":return n.Image;case".mp4":case".ogg":case".ogv":case".webm":return n.Video;default:return n.Undefined}}(r(a));return o!==n.Undefined?(t.url,o):a.endsWith("/")?n.Document:n.Undefined}!function(e){e.Document="document",e.Navigate="navigate",e.Audio="audio",e.Video="video",e.Track="track",e.Image="image",e.Style="style",e.Script="script",e.Font="font",e.Undefined="undefined"}(n||(n={}));const o=[n.Navigate,n.Document,n.Script,n.Style,n.Undefined];function c(e,t){const s=e.contentType,i=new URL(e.originalRequest.url);return!t&amp;&amp;s===n.Script||!function(e,t){const{pathname:s}=e,i=".svg"===r(s);return o.includes(t)||i}(i,s)}function h(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&amp;&amp;t.indexOf(i)&lt;0&amp;&amp;(s[i]=e[i]);if(null!=e&amp;&amp;"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexof(i[r])<0&&(s[i[r]]=e[i[r]])}return s}function="" l(e,t,s,i){var="" r,n="arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if(&quot;object&quot;==typeof" reflect&&"function"="=typeof" reflect.decorate)a="Reflect.decorate(e,t,s,i);else" for(var="" o="e.length-1;o">=0;o--)(r=e[o])&amp;&amp;(a=(n&lt;3?r(a):n&gt;3?r(t,s,a):r(t,s))||a);return n&gt;3&amp;&amp;a&amp;&amp;Object.defineProperty(t,s,a),a}const u=new Map;class d{constructor(e,t){this.clientId=e,this.url=t}static fromClientID(e){const t=u.get(e);if(!t){const t=clients.get(e),s=new d(e,t.then(e=&gt;e.url).catch(()=&gt;""));return u.set(e,s),s}return t}static fromNavigateURL(e,t){const s=new d(t||"",e);return t&amp;&amp;u.set(t,s),s}}function p(e){return[].concat(e)}function g(e,...t){return"number"==typeof e&amp;&amp;Number.isNaN(e)?function(e){for(const t of e)if("number"==typeof t&amp;&amp;Number.isNaN(t))return!0;return!1}(t):t.indexOf(e)&gt;=0}const m=[240,375,576,768,992,1200,1920,2560,3840];function f(e){return m.find(t=&gt;e&lt;=t)||e}function w(e){if(e.clientHintWidth)return new Map([["width",`${f(e.clientHintWidth)}`]]);if(!e.downscale)return new Map;if(e.maxHeight)return new Map([["height",`${e.maxHeight}`]]);const t=function(e){const{screenWidth:t,screenDPR:s}=e;return f(t*(s*(e.screenSizeFactor||1)))}(e),s=e.maxWidth?e.maxWidth:t;return isFinite(s)&amp;&amp;s&gt;0?new Map([["width",`${s}`]]):new Map}function v(e){const t=w(e);return e.webp&amp;&amp;t.set("auto","webp"),100!==e.quality&amp;&amp;t.set("quality",`${e.quality}`),e.pjpeg&amp;&amp;e.pathname.match(/\.jpe?g$/i)&amp;&amp;t.set("format","pjpeg"),function(e,t){const s=t.crop;if(s)if("string"==typeof s)e.set("crop",`${s},smart`);else if(s instanceof Array)if(s.length&gt;=4){const[t,i,r,n]=s;e.set("crop",`${r},${n},x${t},y${i}`)}else if(s.length&gt;=2){const[t,i]=s;e.set("crop",`${t},${i},smart`)}}(t,e),function(e,t){if(!1!==t.overrideWidth)for(const s of p(t.overrideWidth)){const i=t.searchParams.get(s);if(i&amp;&amp;!Number.isNaN(+i)){e.delete("height"),e.set("width",String(+i));break}}}(t,e),function(e,t){if(!1!==t.overrideHeight)for(const s of p(t.overrideHeight)){const i=t.searchParams.get(s);if(i&amp;&amp;!Number.isNaN(+i)){e.delete("width"),e.set("height",String(+i));break}}}(t,e),[...t].map(e=&gt;e.join("="))}function y(e){const[,t,s,i,r,n,a]=/^(?:(https?:)\/\/)?(([\w.-]+)(?::(\d+))?)([^#]*)(#.*)?$/.exec(e);return{protocol:t,host:s,hostname:i,port:r,pathname:n,hash:a}}function A(e){const t=new URL(e);var s;return t.hash&amp;&amp;(t.hash=""),s=t.searchParams,Array.from(s.entries()).sort((e,t)=&gt;e[0]<t[0]?-1:1).foreach(e=>{s.delete(e[0]),s.set(e[0],e[1])}),t.toString()}function b(e,t){const s=3&amp;t.length,i=t.length-s,r=3432918353,n=461845907;let a,o,c,h;for(a=e,h=0;h<i;)c=255&t.charcodeat(h)|(255&t.charcodeat(h+=1))<<8|(255&t.charcodeat(h+=1))<<16|(255&t.charcodeat(h+=1))<<24,h+=1,a=27492+(65535&(o=5*(65535&(a=(a^=c=(65535&(c=(c=(65535&c)*r+(((c>&gt;&gt;16)*r&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;15|c&gt;&gt;&gt;17))*n+(((c&gt;&gt;&gt;16)*n&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;13|a&gt;&gt;&gt;19))+((5*(a&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295))+((58964+(o&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16);switch(c=0,s){case 3:c^=(255&amp;t.charCodeAt(h+2))&lt;&lt;16;case 2:c^=(255&amp;t.charCodeAt(h+1))&lt;&lt;8;case 1:a^=c=(65535&amp;(c=(c=(65535&amp;(c^=255&amp;t.charCodeAt(h)))*r+(((c&gt;&gt;&gt;16)*r&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;15|c&gt;&gt;&gt;17))*n+(((c&gt;&gt;&gt;16)*n&amp;65535)&lt;&lt;16)&amp;4294967295}return a^=t.length,a=2246822507*(65535&amp;(a^=a&gt;&gt;&gt;16))+((2246822507*(a&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295,a=3266489909*(65535&amp;(a^=a&gt;&gt;&gt;13))+((3266489909*(a&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295,(a^=a&gt;&gt;&gt;16)&gt;&gt;&gt;0}function S(e){const t=Array.from(e).map(e=&gt;String.fromCharCode(e)).join("");return btoa(t).replace(/(?:A(?:AAA|AA=|A==))+$/,"")}class C{constructor(e,t,s){this.Aa=e,this.Ab=t,this.Ac=s}static fromJSON(e){return new C((t=e.b,Uint8Array.from([...atob(t)].map(e=&gt;e.charCodeAt(0)))),e.m,e.h);var t}contains(e){return this.AY(e).every(e=&gt;this.AZ(e))}toJSON(){return{b:S(this.Aa),m:this.Ab,h:this.Ac}}AY(e){const t=[],s=b(0,e),i=b(s,e);for(let e=0;e<this.ac;e+=1)t[e]=(s+e*i)%this.ab;return t}az(e){const="" t="this.Aa[e">&gt;3];if(t){return 0!=(t&amp;1&lt;&lt;(7&amp;e))}return!1}}var R;!function(e){e[e.OK=200]="OK",e[e.BaqendRedirect=231]="BaqendRedirect",e[e.MovedPermanently=301]="MovedPermanently",e[e.MovedTemporarily=302]="MovedTemporarily",e[e.NotModified=304]="NotModified",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Forbidden=403]="Forbidden",e[e.InternalServerError=500]="InternalServerError",e[e.BadGateway=502]="BadGateway",e[e.FetchTypeError=542]="FetchTypeError"}(R||(R={}));const B="baqend-speedkit",k=`${B}-store`,E="baqend-speed-kit",N="baqend-force-request",O="bqpassthrough",q="bqpreloadrequest",I="init-cache";function x(e){const t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];let s=null;if(/trident/i.test(t[1]))return s=/\brv[ :]+(\d+)/g.exec(e)||[],["IE",parseInt(s[1],10)||0];if("Chrome"===t[1]){if(null!=(s=e.match(/\bEdge\/(\d+)/)))return["Edge",parseInt(s[1],10)];if(null!=(s=e.match(/\bOPR\/(\d+)/)))return["Opera",parseInt(s[1],10)]}const i=t[2]?[t[1],parseInt(t[2],10)]:[navigator.appName,parseInt(navigator.appVersion,10)];return-1===e.indexOf("Android")&amp;&amp;null!=(s=e.match(/version\/(\d+)/i))&amp;&amp;i.splice(1,1,parseInt(s[1],10)),i}function P(e){return new Promise(t=&gt;setTimeout(t,e))}function D(e){const[t]=x(navigator.userAgent);return"Safari"===t?async function e(t){const s=Date.now();if(t&lt;10)return;if(t&lt;500)return P(t);await P(500);const i=Date.now()-s;return e(t-i)}(e):P(e)}function L(e){const t=e.headers.get("date")||"";return Date.parse(t)}class M{constructor(e){this.public=e.has("public"),this.private=e.has("private"),this.noCache=e.has("no-cache"),this.onlyIfCached=e.has("only-if-cached"),this.maxAge=e.get("max-age"),this.swMaxAge=e.get("sw-max-age"),this.maxStale=e.get("max-stale"),this.minFresh=e.get("min-fresh"),this.staleWhileRevalidate=e.get("stale-while-revalidate"),this.staleIfError=e.get("stale-if-error"),this.mustRevalidate=e.has("must-revalidate"),this.proxyRevalidate=e.has("proxy-revalidate"),this.immutable=e.has("immutable"),this.noStore=e.has("no-store"),this.noTransform=e.has("no-transform")}static fromString(e){const t=e.split(/,\s*/).map(e=&gt;e.split("=",2)).map(([e,t])=&gt;[e,t?parseInt(t,10):-1]),s=new Map(t);return new M(s)}}function U(e,t){return M.fromString(e.headers.get(t)||"")}function T(e,t){const s=U(e,"cache-control"),i=U(e,"baqend-sw-control"),r=function(...e){for(const t of e)if(null!=t)return t;return null}(s.swMaxAge,i.maxAge,s.maxAge);if(e.headers.has("date")&amp;&amp;null!=r){const s=function(e,t,s=0){const i=e.headers.get(t);return null==i?s:parseInt(i,10)}(e,"age"),i=L(e)+t,n=(new Date(i-t),i+1e3*(r-s));return Date.now(),Date.now()&gt;n}return null}var H,F;!function(e){e.Blacklist="Blacklist",e.CacheHit="CacheHit",e.ClientError="ClientError",e.CriticalResource="CriticalResource",e.Delayed="Delayed",e.Disabled="Disabled",e.Disconnected="Disconnected",e.DynamicBlock="DynamicBlock",e.DynamicBlockPreload="DynamicBlockPreload",e.Error="Error",e.Fallback="Fallback",e.IgnoredAfterPOSTNavigate="IgnoredAfterPOSTNavigate",e.LoopDetected="LoopDetected",e.NavigationPreload="NavigationPreload",e.Offline="Offline",e.Onboarding="Onboarding",e.Unknown="Unknown"}(H||(H={})),function(e){e.CacheMiss="CacheMiss",e.ExpiredResponse="CacheMiss.ExpiredResponse",e.InvalidCacheSketch="CacheMiss.InvalidCacheSketch",e.ReloadCacheMode="CacheMiss.ReloadCacheMode",e.UrlInCacheSketch="CacheMiss.UrlInCacheSketch"}(F||(F={}));class J{constructor(e,t){this.urls=e,this.contentTypes=t,this.urlRegExp=function(e){const t=[];if(e&amp;&amp;t.push(...[...e].map(e=&gt;`^${function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&amp;")}(e).replace(/\\\*/g,".*")}$`)),t.length)return new RegExp(t.join("|"))}(e)}static fromJSON(e){const t=e=&gt;{if(e&amp;&amp;e.length)return new Set(e)};return new J(t(e.urls),t(e.contentTypes))}match(e,t){let s=this.doesContentTypeMatch(t);return this.urlRegExp&amp;&amp;(s=s&amp;&amp;!!e.match(this.urlRegExp)),s}toJSON(){const e=e=&gt;{if(e)return[...e]};return{urls:e(this.urls),contentTypes:e(this.contentTypes)}}doesContentTypeMatch(e){const t=e===n.Undefined,s=e===n.Navigate;return!(this.contentTypes&amp;&amp;!t)||(s?this.contentTypes.has(n.Document)||this.contentTypes.has(n.Navigate):this.contentTypes.has(e))}}function $(e){return function(t){return class extends t{async handle(t,s,i){if(!this.Eo(s))return!1;const{type:r}=s,n=h(s,["type"]);return e===r&amp;&amp;super.handle(t,n,i)}Eo(e){return!!e&amp;&amp;"object"==typeof e&amp;&amp;"string"==typeof e.type}}}}function j(e){return function(t){return class extends t{cachePath(){return e}}}}function*W(e,t){for(const s of e)yield*t(s)}class z{constructor(e){if(this[Symbol.toStringTag]="MultiMap",this.Ee=new Map,e)for(const[t,s]of e)this.Ee.has(t)?this.Ee.get(t).add(s):this.Ee.set(t,new Set([s]))}get size(){return e=this.values(),[...e].length;var e}[Symbol.iterator](){return this.entries()}entries(){return W(this.Ee.entries(),([e,t])=&gt;(function*(e,t){for(const s of e)yield t(s)})(t,t=&gt;[e,t]))}keys(){return this.Ee.keys()}values(){return W(this.Ee.values(),e=&gt;e.keys())}clear(){this.Ee.clear()}delete(e){return this.Ee.delete(e)}forEach(e,t){for(const[s,i]of this.entries())e.call(t,i,s,this)}map(e,t){return new z([...this.entries()].map(([s,i])=&gt;e.call(t,i,s,this)))}filter(e,t){return new z([...this.entries()].filter(([s,i])=&gt;e.call(t,i,s,this)))}filterKey(e,t){return new z([...this.entries()].filter(([s])=&gt;e.call(t,s,this)))}getAll(e){const t=this.Ee.get(e);if(!t){const t=new Set;return this.Ee.set(e,t),t}return t}get(e){return function(e){const[t]=e;return t}(this.getAll(e))}has(e){return this.Ee.has(e)}add(e,t){return this.getAll(e).add(t),this}set(e,t){const s=this.getAll(e);return s.clear(),s.add(t),this}setAll(e,t){const s=this.getAll(e);s.clear();for(const e of t)s.add(e);return this}}class K{constructor(){this.BI=[]}observe(e){this.BI.push(e)}notify(){for(const e of this.BI)e()}}let G=class extends K{constructor(e){super(),this.revalidationWhitelist=new Set,this.refreshJobs=new z,this.DE=0,this.DF="default",this.DG=null,this.DD=e}addToRevalidationWhitelist(e){this.revalidationWhitelist.add(e)}clearRevalidationWhitelist(){this.revalidationWhitelist.clear()}isExpired(){return null==this.maxAge||this.maxAge<date.now()}isinvalid(){if(null==this.maxage)return!0;const e="this.DD.staleWhileRevalidate,t=this.maxAge+e<=Date.now();return" this.maxage,date.now(),t}isrequeststale(e){return!this.revalidationwhitelist.has(e)&&(!this.bloomfilter||this.bloomfilter.contains(e))}isresponsestale(e,t,s){const="" i="L(s),r=this.refreshJobs.filterKey(e=">e.getTime()&gt;=i);for(const s of r.values())if(s.match(e,t))return JSON.stringify(s.toJSON()),!0;return!1}getDrift(){return this.DE}getClientRevision(){return this.DF}getServerRevision(){return this.DG}update(e){void 0!==e.body&amp;&amp;this.DC(e.body),void 0!==e.maxAge&amp;&amp;(this.maxAge=e.maxAge),void 0!==e.drift&amp;&amp;(this.DE=e.drift),void 0!==e.clientRevision&amp;&amp;(this.DF=e.clientRevision),void 0!==e.serverRevision&amp;&amp;(this.DG=e.serverRevision),this.notify()}purge(){this.bloomFilter=void 0,this.maxAge=void 0,this.revalidationWhitelist.clear(),this.notify()}toJSON(){return{maxAge:this.maxAge,body:this.DA(),drift:this.DE,clientRevision:this.DF,serverRevision:this.DG}}fromJSON(e){this.DE=e.drift,this.DC(e.body),e.maxAge&amp;&amp;(this.maxAge=e.maxAge),void 0!==e.clientRevision&amp;&amp;(this.DF=e.clientRevision),void 0!==e.serverRevision&amp;&amp;(this.DG=e.serverRevision)}DA(){if(!this.bloomFilter)return;const e=this.DB();return Object.assign({},this.bloomFilter.toJSON(),{r:e})}DB(){if(this.refreshJobs.size)return[...this.refreshJobs.map((e,t)=&gt;[t.getTime(),e.toJSON()])]}DC(e){if(this.refreshJobs.clear(),e&amp;&amp;(this.bloomFilter=C.fromJSON(e),e.r))for(const[t,s]of e.r)this.refreshJobs.add(new Date(t),J.fromJSON(s))}};G=l([j("/com.baqend.speedkit.clock")],G);class Q{constructor(e=""){this.BD=new Map,e&amp;&amp;this.fromString(e)}clear(){this.BD.clear()}fromString(e){this.clear();const t=e.trim();if(!t)return;const s=t.split(/\s*;\s+/);for(const e of s){const[t,s]=e.split(/\s*=\s*/,2);this.BD.set(t,s)}}toString(){return[...this.BD].map(([e,t])=&gt;`${e}=${t}`).join("; ")}getItem(e){return this.BD.get(e)}keys(){return this.BD.keys()}entries(){return this.BD.entries()}}let _=class extends K{constructor(){super(),this.BE=new Map}getCookies(e){return this.BE.get(e)||new Q}updateCookies(e,t){this.BE.set(e,new Q(t)),this.notify()}toJSON(){return{origins:[...this.BE].map(([e,t])=&gt;[e,t.toString()])}}fromJSON(e){if("string"==typeof e)return this.fromJSON({origins:[[location.origin,e]]}),void this.notify();const{origins:t}=e;this.BE.clear();for(const[e,s]of t)this.BE.set(e,new Q(s));this.BE}};_=l([j("/com.baqend.speedkit.cookie")],_);let V=class extends K{isFirstLoadHandled(){return void 0===this.firstLoad||this.firstLoad}firstLoadHandled(){this.firstLoad=!1,this.notify()}toJSON(){return{firstLoad:this.firstLoad}}fromJSON(e){this.firstLoad=e.firstLoad}};function Y(e){if("string"!=typeof e)return null;const t=/^regexp:\/(.*)\/([\w]*)$/.exec(e);if(t){const[,e,s]=t;return new RegExp(e,s)}return null}function Z(e){return JSON.parse(e,(e,t)=&gt;"string"==typeof t&amp;&amp;Y(t)||t)}V=l([j("/com.baqend.speedkit.load")],V);let X=class extends K{constructor(){super(...arguments),this.dpr=1,this.width=1/0}fromJSON(e){this.dpr=e.dpr||1,this.width=e.width||1/0}toJSON(){return{dpr:this.dpr,width:this.width}}};function ee(e,...t){const s=e.toLowerCase();return t.some(e=&gt;"string"==typeof e?s.includes(e):e.test(s))}X=l([j("/com.baqend.speedkit.screen")],X);const te=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(?:browser|link)|vodafone|wap|windows ce|xda|xiino/,se=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br[ev]w|bumb|bw\-[nu]|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c[- ]|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/;function ie(e){return ee(e,"tablet","ipad","nexus 7","nexus 10","silk/",/\bgt-[pn]\d{4}\b/,/\bsm-t\d{3}\b/,/^.*android(?!.*mobile|.*smart-tv|.*smarttv|.*aft[tm]|.*crkey).*$/)}function re(e){return ee(e,"appletv","apple tv","googletv","crkey","armv7l","aftt","aftm","roku","bravia","philipstv","tsbnettv","smarttv",/\btv\b/)}function ne(e,t){if(!t)return e.toString();try{return new URL(t).toString()}catch(s){if(t.startsWith("//"))return`${e.protocol}${t}`;if(t.startsWith("/"))return`${e.origin}${t}`;const i=function e(t){return t.startsWith("/")?e(t.substr(1)):t}(e.pathname).split("/"),r=t.split("/");i.pop();for(const e of r)".."===e?i.pop():"."===e||i.push(e);return`${e.origin}/${i.join("/")}`}}class ae{}ae.propName="";class oe extends ae{constructor(e=[]){super(),this.Eq=e}matches(e,t){return!!this.Eq.length&amp;&amp;this.Eq.every(s=&gt;s.matches(e,t))}toJSON(){const e={};for(const t of this.Eq){e[t.constructor.propName]=t.toJSON()}return e}fromJSON(e){if("string"==typeof e)return this.fromJSON(Z(e));for(const[t,s]of Object.entries(e)){if(!be[t])throw new Error(`Illegal rule: ${t}`);{const e=new be[t];e.fromJSON(s),this.addCondition(e)}}return this}addCondition(e){return this.Eq.push(e)}removeCondition(e){const t=this.Eq.indexOf(e);return!(t&lt;0)&amp;&amp;(this.Eq.splice(t,1),!0)}}function ce(e,t){return t instanceof Array?t.some(t=&gt;ce(e,t)):t instanceof RegExp?t.test(e):e.startsWith(t)}class he extends ae{constructor(e=[]){super(),this.Er=e}matches(e,t){if(!this.Er.length)return!1;const s=a(e);if(s===n.Navigate){const e=this.Er.includes(s)||this.Er.includes(n.Document);return e}const i=this.Er.includes(s);return i}toJSON(){return this.Er}fromJSON(e){if("string"==typeof e)return this.fromJSON(Z(e));if(e instanceof Array)return this.Er=e,this;throw new Error("Invalid ContentTypeCondition JSON")}}he.propName="contentType";class le extends ae{constructor(e){super(),this.Ew=e}test(e){return null!=this.Ew&amp;&amp;ce(e,this.Ew)}toJSON(){return this.Ew?function e(t){return t instanceof Array?t.map(t=&gt;e(t)):t instanceof RegExp?`regexp:/${(s=t).source}/${s.flags||""}`:t;var s}(this.Ew):null}fromJSON(e){if(null==e||"null"===e)return this.Ew=null,this;try{return this.fromJSON(Z(e))}catch(e){}return this.Ew=e,this}}class ue extends le{matches(e,t){if(!t)return!1;if(!e.url.startsWith(location.origin))return location.origin,!1;const s=[...t.entries()].some(e=&gt;this.test(`${e[0]}=${e[1]}`));return s}}ue.propName="cookie";class de extends ae{matches(e,t){const s=e.headers.get("user-agent")||navigator.userAgent;return!s||(this.constructor.name,this.userAgentMatches(s),this.userAgentMatches(s))}toJSON(){return!0}fromJSON(e){return this}}class pe extends de{userAgentMatches(e){return function(e){return ee(e,"wow64","windows nt","win64","msie","macintosh;","linux x86_64")}(e)}}pe.propName="desktop";class ge extends le{matches(e,t){return this.test(y(e.url).host)}}ge.propName="host";class me extends de{userAgentMatches(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(?:browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br[ev]w|bumb|bw\-[nu]|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c[- ]|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}}me.propName="mobile";class fe extends le{matches(e,t){return this.test(y(e.url).pathname)}}fe.propName="pathname";class we extends ae{constructor(e=[]){super(),this.Es=e}get size(){return this.Es.length}toJSON(){return this.Es.map(e=&gt;e.toJSON())}fromJSON(e){if(e instanceof Array)return this.Es=e.map(e=&gt;(new oe).fromJSON(e)),this;throw new Error("Invalid RuleSet JSON")}matches(e,t){return this.Es.some(s=&gt;s.matches(e,t))}[Symbol.iterator](){return this.Es[Symbol.iterator]()}addRule(e){return this.Es.push(e)}removeRule(e){const t=this.Es.indexOf(e);return!(t&lt;0)&amp;&amp;(this.Es.splice(t,1),!0)}}class ve extends de{userAgentMatches(e){return ie(e)}}ve.propName="tablet";class ye extends de{userAgentMatches(e){return re(e)}}ye.propName="tv";class Ae extends le{matches(e,t){return this.test(function(e){const[,t]=/^(?:(?:\w+?:)?\/\/)?(.*)$/.exec(e);return t}(e.url))}}Ae.propName="url";const be={[he.propName]:he,[ue.propName]:ue,[pe.propName]:pe,[ge.propName]:ge,[me.propName]:me,[fe.propName]:fe,[ve.propName]:ve,[ye.propName]:ye,[Ae.propName]:Ae};var Se,Ce;function Re(e,t){return e instanceof Promise?e.then(e=&gt;t(e)):t(e)}!function(e){e.LOAD="load",e.SPEED_KIT_DYNAMIC_LOADED="speed-kit-dynamic-loaded"}(Se||(Se={}));const Be=2;let ke=Ce=class extends K{constructor(e){super(),this.EO=null,this.EP=null,this.EQ=!0,this.properties=Ce.getDefaults(),this.EN=e}get appURL(){if(!this.optionalAppURL)throw new Error("Options are not initialized yet.");return this.optionalAppURL}get reconnectInterval(){return this.properties.reconnectInterval}get refreshInterval(){return 1e3*this.properties.refreshInterval}get relativeModuleImports(){return this.properties.relativeModuleImports}get staleWhileRevalidate(){return 1e3*this.properties.staleWhileRevalidate}get preloadBloomFilter(){return this.properties.preloadBloomFilter}get navigationPreload(){return this.properties.navigationPreload}get cachingDisabled(){return this.properties.disableCache}get preloadDynamicBlocks(){return this.properties.preloadDynamicBlocks}get sdnSetup(){return this.properties.sdnSetup}get ignoreAfterPostNavigate(){return this.properties.ignoreAfterPostNavigate}shouldCacheRequest(e,t=!1){const{request:s,cookies:i}=e;return!this.properties.disableCache&amp;&amp;(!(this.properties.whitelist.size&amp;&amp;!this.properties.whitelist.matches(s,i))&amp;&amp;(!this.properties.blacklist.matches(s,i)&amp;&amp;(!!t||(this.properties.enabledSites.size&amp;&amp;e.isNavigateRequest()&amp;&amp;(this.EQ=this.properties.enabledSites.matches(s,i)),this.EQ))))}shouldDelayRequest(e){const t=this.properties.delayed.some(t=&gt;t.rules.matches(e.request,e.cookies)),s=a(e.request),i=[n.Script,n.Image];return t&amp;&amp;!!s&amp;&amp;i.includes(s)}isEnabledOnSite(e){return!!e.isNavigateRequest()||Re(e.getNavigateUrl(),t=&gt;0!==t.length&amp;&amp;this.EM(e,this.properties.enabledSites))}isEnabledOnURL(e,t=this.properties.enabledSites){if(!t.size)return!0;const s=t.matches(new Request(e));return s}EM(e,t){return!t||!t.size||(e.isNavigateRequest()?t.matches(e.originalRequest,e.cookies):Re(e.navigation.url,e=&gt;this.isEnabledOnURL(e,t)))}getUserAgentClass(e){if(!this.properties.userAgentDetection||!this.properties.userAgentDetection.matches(e))return null;const t=e.headers.get("user-agent")||navigator.userAgent||navigator.vendor,s="navigate"===e.mode&amp;&amp;t!==this.EP;return null==this.EO||s?(this.EP=t,ee(i=t,te)||ee(i.substr(0,4),se)?this.EO="mobile":ie(t)?this.EO="tablet":this.EO=re(t)?"tv":"desktop"):this.EO;var i}async shouldFetchOrigin(e){if(-1===this.properties.fetchOriginInterval)return!1;if(0===this.properties.fetchOriginInterval)return!0;const t=Math.floor(Date.now()/1e3);if((await this.EN.get("/fetch-origin-time")||t)&lt;=t){const e=t+this.properties.fetchOriginInterval+Be;return await this.EN.set("/fetch-origin-time",e),!0}return!1}getDelayOptions(e){const t=Ce.getDelayDefaults();for(const s of this.properties.delayed){(!s.rules||s.rules.matches(e.originalRequest))&amp;&amp;(s.options,Object.assign(t,s.options))}return t}async getImageOptions(e){const t=Ce.getImageDefaults();if(this.properties.image instanceof Array){for(const s of this.properties.image){if(!s.rules||s.rules.matches(e.originalRequest)){await this.EM(e,s.enabledSites)&amp;&amp;(s.options,Object.assign(t,s.options))}}return t}return Object.assign(t,this.properties.image)}shouldStripQueryParameter(e,t){return!!this.properties.stripQueryParams.length&amp;&amp;ce(e,t)}async getQueryParameterStripConditions(e){let t=[];for(const s of this.properties.stripQueryParams){if(!s.rules||s.rules.matches(e.originalRequest)){(!s.enabledSites||await this.EM(e,s.enabledSites))&amp;&amp;(t=t.concat(s.params))}}return t}async appendStrippedParams(e,t){const s=new URL(t.originalRequest.url),i=await this.getQueryParameterStripConditions(t);return s.searchParams.forEach((t,s)=&gt;{this.shouldStripQueryParameter(s,i)&amp;&amp;e.searchParams.append(s,t)}),e.toString()}hasCriticalResources(){return!!this.properties.criticalResources.length}async getCriticalResources(e){const t=[];for(const{enabledOn:s,resources:i}of this.properties.criticalResources)await this.EM(e,s)&amp;&amp;t.push(...i);return t.filter((e,s)=&gt;t.indexOf(e)===s)}getSplitTestId(){return this.properties.splitTestId}getGroup(){return this.properties.group}toJSON(){const e=this.properties.delayed.map(e=&gt;({options:e.options,rules:e.rules.toJSON()})),t=this.properties.image instanceof Array?this.properties.image.map(e=&gt;({options:e.options,enabledSites:e.enabledSites&amp;&amp;e.enabledSites.toJSON(),rules:e.rules&amp;&amp;e.rules.toJSON()})):this.properties.image,s=this.properties.criticalResources.map(e=&gt;({enabledOn:e.enabledOn&amp;&amp;e.enabledOn.toJSON(),resources:e.resources})),i=this.properties.stripQueryParams.map(e=&gt;({enabledSites:e.enabledSites&amp;&amp;e.enabledSites.toJSON(),rules:e.rules&amp;&amp;e.rules.toJSON(),params:e.params})),r=new URL(this.appURL);let n,a="local";return r.host.endsWith(".app.baqend.com")?a=r.host.substring(r.host.length-".app.baqend.com".length):n=r.host,{appName:a,appDomain:n,delayed:e,image:t,criticalResources:s,stripQueryParams:i,splitTestId:this.properties.splitTestId,group:this.properties.group,blacklist:this.properties.blacklist.toJSON(),whitelist:this.properties.whitelist.toJSON(),enabledSites:this.properties.enabledSites.toJSON(),disableCache:this.properties.disableCache,ignoreAfterPostNavigate:this.properties.ignoreAfterPostNavigate,userAgentDetection:this.properties.userAgentDetection.toJSON(),fetchOriginInterval:this.properties.fetchOriginInterval,preloadBloomFilter:this.properties.preloadBloomFilter,navigationPreload:this.properties.navigationPreload,reconnectInterval:this.properties.reconnectInterval,refreshInterval:this.properties.refreshInterval,staleWhileRevalidate:this.properties.staleWhileRevalidate}}fromJSON(e){const{sw:t,scope:s,disabled:i}=e,r=h(e,["sw","scope","disabled"]),{appName:n,appDomain:a}=r,o=h(r,["appName","appDomain"]),c=`${n}.app.baqend.com`;this.optionalAppURL=`https://${a||c}/v1`,this.optionalAppURL;const l=Ce.getDefaults(),{maxStaleness:u,refreshInterval:d}=o,p=h(o,["maxStaleness","refreshInterval"]),g=d||u&amp;&amp;u/1e3||l.refreshInterval,{whitelist:m,blacklist:f,delayed:w,stripQueryParams:v,enabledSites:y,criticalResources:A,image:b,userAgentDetection:S}=p,C=h(p,["whitelist","blacklist","delayed","stripQueryParams","enabledSites","criticalResources","image","userAgentDetection"]);this.properties=Object.assign({},l,{refreshInterval:g,userAgentDetection:this.getUserAgentRuleSet(S||!1),whitelist:(new we).fromJSON(m||[]),blacklist:(new we).fromJSON(f||[]),enabledSites:(new we).fromJSON(y||[]),stripQueryParams:Ce.initStripParams(v),delayed:Ce.initDelayed(w),criticalResources:Ce.initCriticalResources(A),image:Ce.initImage(b)},C)}getUserAgentRuleSet(e){const t=new we;return"boolean"==typeof e?e&amp;&amp;t.addRule(new oe([new Ae("")])):t.fromJSON(e),t}static getDefaults(){return{blacklist:new we,criticalResources:[],delayed:[{rules:new we,options:this.getDelayDefaults()}],disableCache:!1,enabledSites:new we,fetchOriginInterval:-1,image:this.getImageDefaults(),ignoreAfterPostNavigate:!0,preloadBloomFilter:!0,preloadDynamicBlocks:!1,navigationPreload:!1,reconnectInterval:6e4,refreshInterval:300,relativeModuleImports:!1,sdnSetup:!1,staleWhileRevalidate:1800,stripQueryParams:[],userAgentDetection:new we,whitelist:new we,splitTestId:"",group:""}}static getDelayDefaults(){return{event:Se.LOAD,timeout:1e3}}static getImageDefaults(){return{downscale:!0,screenSizeFactor:1,maxWidth:!1,maxHeight:!1,quality:85,webp:!0,pjpeg:!0,crop:!1,overrideWidth:!1,overrideHeight:!1}}static initDelayed(e){return e?e.some(e=&gt;e.hasOwnProperty("rules"))?e.map(e=&gt;({rules:(new we).fromJSON(e.rules),options:e.options})).reverse():[{rules:(new we).fromJSON(e),options:this.getDelayDefaults()}]:[{rules:new we,options:this.getDelayDefaults()}]}static initStripParams(e){if(!e)return[];return e instanceof Array&amp;&amp;e.some(e=&gt;"object"==typeof e&amp;&amp;e.params)?e.map(e=&gt;({enabledSites:e.enabledSites&amp;&amp;(new we).fromJSON(e.enabledSites),rules:e.rules&amp;&amp;(new we).fromJSON(e.rules),params:e.params})):[{params:e}]}static initImage(e){return e?e instanceof Array?e.map(e=&gt;({enabledSites:e.enabledSites&amp;&amp;(new we).fromJSON(e.enabledSites),rules:e.rules&amp;&amp;(new we).fromJSON(e.rules),options:Ce.normalizeImageOptions(e.options)})).reverse():Ce.normalizeImageOptions(e):{}}static normalizeImageOptions(e){return"number"==typeof e.quality?e.quality=Math.max(1,Math.min(100,Math.round(e.quality))):!1===e.quality&amp;&amp;(e.quality=100),e}static initCriticalResources(e=[]){return e.length?e.map(Ce.makeResourceRule).map(Ce.normalizeResourceURLs).map(Ce.instantiateResourceEnabledOn):[]}static makeResourceRule(e){return"string"==typeof e?{resources:[e]}:e}static normalizeResourceURLs({enabledOn:e,resources:t}){const s=new URL(location.href);return{enabledOn:e,resources:t.map(e=&gt;ne(s,e))}}static instantiateResourceEnabledOn({enabledOn:e,resources:t}){return{enabledOn:e&amp;&amp;(new we).fromJSON(e),resources:t}}};function Ee(e,t){return void 0===e?t:e}ke=Ce=l([j("/com.baqend.speedkit.config")],ke);class Ne{constructor(e){this.isFetched=!1,this.dependent=new Set,this.originalRequest=e.request,this.request=e.request,this.AU=e.awaiter,this.navigation=e.navigation,this.cookies=e.cookies,this.AS=e.navigateRequest,this.AT=Ee(e.critical,!1),this.preloadResponse=e.preloadResponse,this.prewarm=Ee(e.prewarm,!1),this.marks=Ee(e.marks,new Map),this.dependsOn=e.dependsOn,this.resultingClientId=Ee(e.resultingClientId,""),this.contentType=e.contentType}static create(e,t={},s=(()=&gt;{})){const i=d.fromNavigateURL(e),{navigation:r=i,cookies:n=new Q,critical:o=!1}=t,c=h(t,["navigation","cookies","critical"]),l=new Request(e,c),u="navigate"===t.mode,p=a(l);return new Ne({request:l,navigation:r,cookies:n,critical:o,navigateRequest:u,contentType:p,awaiter:s,prewarm:t.prewarm,marks:t.marks,dependsOn:t.dependsOn,resultingClientId:t.resultingClientId})}static fromEvent(e,t=new Q){const{request:s,preloadResponse:i,resultingClientId:r}=e,n="navigate"===s.mode,o=n?d.fromNavigateURL(s.url,r):d.fromClientID(e.clientId),c=a(s);return new Ne({request:s,awaiter:t=&gt;e.waitUntil(t),navigation:o,cookies:t,navigateRequest:n,contentType:c,preloadResponse:i,resultingClientId:r})}createSubRequest(e,t){return this.request.redirect,Ne.create(e,Object.assign({marks:new Map(this.marks),resultingClientId:this.resultingClientId,redirect:this.request.redirect},t),this.AU)}waitUntil(...e){this.AU(Promise.all(e))}get url(){return new URL(this.request.url)}get headers(){return new Headers(this.request.headers)}get timings(){if(!this.marks.size)return null;const e=Object.create(null);for(const[t,s]of this.marks)e[t]=s;return e}mark(e){this.marks.set(e,Date.now())}isNavigateRequest(){return this.AS}isCritical(){return this.AT}isSameOrigin(){return this.url.origin===location.origin}getCauseForCacheMiss(){return this.cacheMissCause?this.cacheMissCause:F.CacheMiss}get modifying(){return"GET"!==this.request.method&amp;&amp;"HEAD"!==this.request.method}set url(r){const n=r.toString();this.url.toString()!==n&amp;&amp;(this.request=function(r,n,a={}){const o=new Headers,c=[e,t,s,i];for(const[e,t]of r.headers)c.includes(e.toLocaleLowerCase())&amp;&amp;o.append(e,t);const h={headers:o,credentials:"omit"};return"navigate"!==r.mode&amp;&amp;(h.mode=r.mode),new Request(n,Object.assign(h,a))}(this.request,n))}set headers(e){this.request=new Request(this.request,{headers:e})}set method(e){this.method!==e&amp;&amp;(this.request=new Request(this.request,{method:e}))}get method(){return this.request.method.toUpperCase()}set mode(e){this.request.mode!==e&amp;&amp;(this.request=new Request(this.request,{mode:e}))}set cache(e){this.request.cache!==e&amp;&amp;(this.request=new Request(this.request,{cache:e}))}markAsCacheMiss(e){this.cacheMissCause=e}markAsFetched(){this.isFetched=!0;for(const e of this.dependent)this.dependent.delete(e),e()}async fetch(){this.mark("fetchStart"),this.dependsOn&amp;&amp;(this.dependsOn,this.dependsOn.isFetched),this.dependsOn&amp;&amp;!this.dependsOn.isFetched&amp;&amp;await new Promise(e=&gt;{this.dependsOn.dependent.add(e)}),this.method,this.url.pathname;const e=fetch(this.request);this.markAsFetched();const t=await e;return this.mark("fetchEnd"),t}getNavigateUrl(){return this.isNavigateRequest()?this.originalRequest.url:this.navigation.url}fetchOriginal(){return this.method,this.url.pathname,fetch(this.originalRequest)}toString(){return this.isSameOrigin()?`${this.method} ${this.url.pathname}`:`${this.method} ${this.url}`}}var Oe;const qe=Symbol("State"),Ie=Symbol("Reason"),xe=Symbol("Waiters");class Pe{constructor(e="",t=""){this[Oe]=new Map,this[qe]=e,this[Ie]=t}get state(){return this[qe]}get reason(){return this[Ie]}waitUntil(...e){if(!e.length)throw new TypeError("You must wait for at least one desired state.");return e.indexOf(this.state)&gt;=0?Promise.resolve(this.state):Promise.race(e.map(e=&gt;this.AO(e)))}transition(e,t){this[Ie]=t||"";const s=this[qe];return e===s?s:(this[qe]=e,this.AP(e),s)}AO(e){return new Promise(t=&gt;{const s=this[xe].get(e)||[];s.push(t),this[xe].set(e,s)})}AP(e){const t=this[xe].get(e)||[];this[xe].delete(e);for(const s of t)s(e)}}function De(e,t){fetch(`${e}/db/speedKit.CustomEvent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}var Le,Me;Oe=xe,function(e){e.INSTALLING="installing",e.RUNNING="running",e.FAILED="failed"}(Le||(Le={}));function Ue(e,t,s,i){return Promise.resolve(e).then(e=&gt;new Promise((r,n)=&gt;{const a=e.transaction(t,s),o=Promise.resolve(i(a.objectStore(t)));a.oncomplete=(()=&gt;o.then(r)),a.onabort=a.onerror=(()=&gt;n(a.error))}))}function Te(e,t,s){return Ue(e,t,"readwrite",s)}async function He(e,t={}){const s=await e.blob();return new Response(s,t)}!function(e){e.AssetAPI="AssetAPI",e.Generated="Generated",e.None="None",e.Origin="Origin",e.SwCache="SwCache"}(Me||(Me={}));class Fe{constructor(e,t,s,i){this.request=s,this.response=i,this.cause=t,this.source=e}waitUntil(...e){this.request.waitUntil(...e)}clone(e){return new Fe(this.source,this.cause,e,this.response&amp;&amp;this.response.then(e=&gt;e.clone()))}}function Je(e,t,s,i){t&amp;&amp;e.markAsFetched();const r=i?Promise.resolve(i):void 0;return new Fe(Me.Origin,s,e,r)}function $e(e,t,s,i){t&amp;&amp;e.markAsFetched();const r=i?Promise.resolve(i):void 0;return new Fe(Me.SwCache,s,e,r)}function je(e,t,s,i){t&amp;&amp;e.markAsFetched();const r=i?Promise.resolve(i):void 0;return new Fe(Me.AssetAPI,s,e,r)}function We(e,t,s={},i,r=Me.Generated){return e.markAsFetched(),new Fe(r,i,e,Promise.resolve(new Response(t,s)))}function ze(e,t){return e.markAsFetched(),new Fe(Me.Origin,H.Error,e,Promise.resolve(t))}class Ke{}function Ge(e){return g(e.source,Me.AssetAPI,Me.SwCache)}function Qe(e,t,s){const i=new Headers(e.originalRequest.headers);i.set("baqend-speed-kit-request","dynamic"),s&amp;&amp;i.set("baqend-speed-kit-active",t.toString()),e.headers=i}class _e{constructor(){this.Ed=new Set}addRedirect(e,t){return!!this.Eb(t)||(this.Ec(e),!1)}Eb(e){const t=e.headers.get("location");return!!t&amp;&amp;this.Ed.has(t)}Ec(e){this.Ed.add(e.url)}clear(){this.Ed.clear()}}function Ve(e){return e.status&gt;=R.MovedPermanently&amp;&amp;e.status&lt;=R.PermanentRedirect&amp;&amp;e.status!==R.NotModified}class Ye{constructor(e){this.provider=e}}let Ze=class extends Ye{async handle(){return this.provider.connect(),!0}};Ze=l([$("connect")],Ze);let Xe=class extends Ye{async handle(){return this.provider.disconnect(),!0}};Xe=l([$("disconnect")],Xe);let et=class extends Ye{async handle(){return await this.provider.refreshCacheSketch(!0),!0}};et=l([$("fetch-bloom-filter")],et);let tt=class{constructor(e){this.Az=e}async handle(e,t,s){const i=t.clientURL;if(!s||!t||!i)return!1;let r=A(i);e.id&amp;&amp;this.Az.idSupported()&amp;&amp;(r=e.id);const n=this.Az.pop(r)||this.Az.getUnknownNavigateMetadata(i);return s.postMessage(n),!0}};tt=l([$("get-navigate-info")],tt);let st=class{constructor(e,t,s,i,r){this.A2=e,this.A3=t,this.A4=s,this.A5=i,this.A6=r}async handle(e,t){if(!this.A0(t))return!1;const s=new URL(e.url);return await this.A1(s,t.data),!0}A0(e){return!!e&amp;&amp;"object"==typeof e&amp;&amp;e.data instanceof Array&amp;&amp;e.data.every(e=&gt;"string"==typeof e.url)}async A1(e,t){if(this.A2.isEnabledOnURL(e.toString()))return;if(!t.length)return;this.A4.refreshCacheSketch();const s=d.fromNavigateURL(e.toString());for(const{url:i}of t){const t=this.A5.getCookies(location.origin),r=!0,n=Ne.create(i,{navigation:s,cookies:t,prewarm:r}),a=n.url.origin!==e.origin;if(this.A2.shouldCacheRequest(n,!0),await this.A3.loadResponse(n),a&amp;&amp;this.A2.shouldCacheRequest(n,!0)&amp;&amp;!await this.A3.loadResponse(n))return void await this.A6.fetch(n)}}};function it(e,...t){return"object"==typeof e&amp;&amp;void 0===e.prototype&amp;&amp;t.every(t=&gt;t in e)}st=l([$("prewarm-fetch")],st);let rt=class{constructor(e,t,s){this.A9=e,this.A$=t,this.A_=s}async handle(e,t){return!!it(t,"data")&amp;&amp;(await this.A8(t.data,it(t,"event")?t.event:void 0),!0)}async A8(e,t){"load"===t&amp;&amp;(this.A$.trackLoadEvent(),2===this.A$.loadEventCount&amp;&amp;this.A9.refreshCacheSketch(!0)),this.A_.updateCookies(location.origin,e)}};rt=l([$("send-cookies")],rt);let nt=class{constructor(e){this.A7=e}async handle(e){return e.id,this.A7.release(e.id),!0}};nt=l([$("dom-ready")],nt);const at={MISS:"MISS",HIT:"HIT","MISS, HIT":"HIT","HIT, MISS":"SHIELD HIT","HIT, HIT":"HIT","MISS, MISS":"MISS"};class ot{constructor(e){this.EX=null,this.EY=null,this.EZ=null,this.Ea=!1;const t=e.get("x-cache"),s=e.get("x-timer"),i=e.get("x-served-by");e.get("etag");this.setCache(t),this.setDuration(s),this.setPoP(i),this.EW(e)}getDuration(){return this.EY}setDuration(e){if(!e)return void(this.EY=null);const t=e.match(/VS(\d+).*VE(\d+)/);this.EY=null!==t?+t[2]-+t[1]:null}setCache(e){e&amp;&amp;at[e]?this.EX=at[e]:this.EX=null}getCache(){return this.EX}setPoP(e){if(!e)return void(this.EZ=null);const t=e.match(/\w{3}$/);this.EZ=null!==t?t[0]:null}getPoP(){return this.EZ}isBackendCacheHit(){return this.Ea}EW(e){this.Ea=e.has("etag")}}class ct{constructor(e){this.swResponse=!0,this.url=e.url,this.resultingClientId=e.resultingClientId,this.enabled=e.enabled,this.served=e.served,this.fromOrigin=e.fromOrigin,this.cacheHit=e.cacheHit,this.cdnCacheHit=e.cdnCacheHit,this.cdnBackendTime=e.cdnBackendTime,this.cdnPoP=e.cdnPoP,this.firstLoad=!1,this.splitTestId=e.splitTestId,this.group=e.group,this.responseCause=e.responseCause,this.responseSource=e.responseSource,this.backendCacheHit=e.backendCacheHit,[this.browser,this.browserVersion]=x(navigator.userAgent),e.timings&amp;&amp;(this.timings=e.timings)}static fromContext(e,t,s,i,r,n,a){const o=e.request,c=a?new ot(a.headers):null,h=!!c&amp;&amp;c.isBackendCacheHit();return new ct({enabled:t,served:s,fromOrigin:i,splitTestId:r,group:n,url:o.originalRequest.url,resultingClientId:e.request.resultingClientId,cacheHit:e.source===Me.SwCache,timings:o.timings,cdnCacheHit:c?c.getCache():null,cdnBackendTime:c?c.getDuration():null,cdnPoP:c?c.getPoP():null,responseSource:e.source,responseCause:e.cause,backendCacheHit:h})}}const ht=new class{constructor(){this.BC=null,this.BC=this.BB()}get(e){return(t=this.BA(),s=k,i=(t=&gt;t.get(e)),Ue(t,s,"readonly",i)).then(e=&gt;e.result||null);var t,s,i}set(e,t){return Te(this.BA(),k,s=&gt;s.put(t,e)&amp;&amp;void 0)}clear(){return Promise.all([(e=this.BA(),t=k,Te(e,t,e=&gt;e.clear()).then(()=&gt;void 0))]).then(()=&gt;void 0);var e,t}disconnect(){return this.BC?this.BC.then(e=&gt;{this.BC=null,e.close()}):Promise.resolve()}BA(){return this.BC||(this.BC=this.BB()),this.BC}BB(){const e=indexedDB.open(B,1);return e.onupgradeneeded=(t=&gt;{const{oldVersion:s}=t,{result:i}=e;s&lt;1&amp;&amp;i.createObjectStore(k)}),function(e){return new Promise((t,s)=&gt;{e.onsuccess=(()=&gt;t(e.result)),e.onerror=(()=&gt;s(e.error))})}(e).then(e=&gt;(e.onclose=(()=&gt;{this.BC=null}),e.onerror=(()=&gt;{this.BC=null}),e.onversionchange=(t=&gt;{t.newVersion||(this.BC=null,e.close())}),e))}},lt=new class{constructor(e,t,s){this.BH=[],this.BF=e,this.BG=t.open(s)}async store(e){if("function"!=typeof e.cachePath)throw new TypeError("Cannot store an object without cachePath method.");const t=e.cachePath(),s=e.toJSON();await this.BF.set(t,s),location.origin}async load(e,t=!1){if("function"!=typeof e.cachePath)throw new TypeError("Cannot store an object without cachePath method.");const s=e.cachePath(),i=await this.BF.get(s);if(null!=i)return void e.fromJSON(i);const r=await this.BG,n=await async function(e,t,s=!1){const i=await e.match(`${location.origin}${t}`);if(!i){const e=`Could not load object "${location.origin}${t}" from cache.`;if(s)throw new Error(e);return null}const r=i.statusText;try{return Z(r)}catch(e){const i=`Object at "${t}" is not in JSON format.`;if(s)throw new Error(i);return r}}(r,s,t);null!==n&amp;&amp;(e.fromJSON(n),await this.BF.set(s,n))}async loadAllWatched(){await this.loadAll(...this.BH)}async loadAll(...e){await Promise.all(e.map(e=&gt;this.load(e)))}watch(...e){for(const t of e)this.BH.push(t),t.observe(()=&gt;this.store(t))}}(ht,caches,B),ut=new ke(ht),dt=new class{constructor(e){this.CI=new Map,this.supportsId=!1,this.CJ=[],this.CK=e}capture(e){e.url;let t=A(e.url);e.resultingClientId&amp;&amp;(this.supportsId=!0,t=e.resultingClientId);const s=this.CI.get(t)||[];s.push(e),this.CI.set(t,s)}pop(e){const t=this.CI.get(e);return t&amp;&amp;t.length?(1===t.length&amp;&amp;this.CI.delete(e),t.shift()):null}addNotTracked(e){this.CJ.push(e)}removeNotTracked(e){const t=this.CJ.indexOf(e);-1!==t&amp;&amp;this.CJ.splice(t,1)}isNotTracked(e){return-1!==this.CJ.indexOf(e)}idSupported(){return this.supportsId}getUnknownNavigateMetadata(e){return new ct({url:e,resultingClientId:"",enabled:!1,served:!1,fromOrigin:!0,cacheHit:!1,timings:null,cdnCacheHit:null,cdnBackendTime:null,cdnPoP:null,backendCacheHit:!1,splitTestId:this.CK.getSplitTestId(),group:this.CK.getGroup(),responseSource:Me.Origin,responseCause:H.Unknown})}}(ut),pt=new _,gt=new G(ut),mt=new X,ft=new V,wt=new class{constructor(e){this.swCacheKeys=new WeakMap,this.At=e}async getSWCacheKey(e){if(this.swCacheKeys.has(e))return this.swCacheKeys.get(e);const{url:t}=e,s=await this.At.getQueryParameterStripConditions(e);for(const e of Array.from(t.searchParams.keys()))(this.At.shouldStripQueryParameter(e,s)||e===O||e===q)&amp;&amp;t.searchParams.delete(e);const i=A(t.toString());return this.swCacheKeys.set(e,i),i}}(ut),vt=new class{constructor(e,t,s,i,r){this.assetAPIKeys=new WeakMap,this.Ag=e,this.Ah=t,this.Ai=s,this.Aj=i,this.Ak=r}async getAssetAPIKey(e){if(this.assetAPIKeys.has(e))return this.assetAPIKeys.get(e);const t=await this.Ah.getSWCacheKey(e),s=new URL(t),i=await this.Ag.getImageOptions(e),r=e=&gt;{if(!1!==e)for(const t of p(e))if(s.searchParams.has(t)){s.searchParams.delete(t);break}};r(i.overrideWidth),r(i.overrideHeight);const n=s.toString();return this.assetAPIKeys.set(e,n),n}async createAssetAPIRequest(e){const t=await this.getAssetAPIKey(e);if(t.startsWith(this.Ag.appURL))return new URL(t);const{originalRequest:s}=e,i=new URL(t),r=this.Ag.getUserAgentClass(s);r&amp;&amp;"desktop"!==r&amp;&amp;i.searchParams.append("bqvariation",r);const n=this.Ai.isFirstLoadHandled();n&amp;&amp;this.Ai.firstLoadHandled(),await this.Ad(e,i,n),await this.Ae(e,i);const a=new URL(`${this.Ag.appURL}/asset/${i}`);return e.url,a}async Ad(e,t,s){if(this.Ag.sdnSetup)return void(e.isNavigateRequest()&amp;&amp;t.searchParams.append("bqpi","1"));const i=await e.getNavigateUrl(),r=e.resultingClientId.length?e.resultingClientId:A(i);(s||this.Aj.isNotTracked(r))&amp;&amp;(t.searchParams.append("bqpi","1"),this.Aj.removeNotTracked(r))}async Ae(e,t){const{request:s}=e;if(s.destination,e.contentType!==n.Image)return;if(".svg"===r(t.pathname))return;const i=new URL(e.originalRequest.url).searchParams,a=v(await this.Af(e,t.pathname,i));a.length&amp;&amp;(t.searchParams.append("bqoptimize","1"),t.search+=`;${a.join(";")}`)}async Af(e,t,s){const i=await this.Ag.getImageOptions(e),{width:r,dpr:n}=this.Ak,a=(o=e.headers.get("width")||void 0,c=(e=&gt;parseInt(e,10)),null===o?null:void 0!==o?c(o):void 0);var o,c;return Object.assign({},i,{screenWidth:r,screenDPR:n,clientHintWidth:a,pathname:t,searchParams:s})}}(ut,wt,ft,dt,mt),yt=new class{constructor(e,t,s){this.Q=e,this.R=t,this.S=s}async delete(){await async function(e){const t=(await caches.keys()).filter(e).map(e=&gt;caches.delete(e));await Promise.all(t)}(e=&gt;e.startsWith(B)&amp;&amp;e.endsWith(this.Q.getClientRevision())),this.Q.getClientRevision()}async loadResponse(e){const t=this.N(e);return await caches.match(await this.S.getSWCacheKey(e),{cacheName:t})}async storeResponse(e,t){const s=this.N(e),i=await this.S.getSWCacheKey(e);await this.putIntoCache(s,i,t)}async putIntoCache(e,t,s){const i=await caches.open(e);this.Q.getClientRevision(),await this.L(i,t,s.clone())}async L(e,t,s,i=!1,r=!1){try{await e.put(t,s)}catch(a){return r?this.M("cacheErrorAfterCleanAssets",a):i?(this.M("cacheErrorAfterCleanImages",a),await this.O(Object.keys(n)),this.L(e,t,s,!0,!0)):(this.M("cacheError",a),await this.O([n.Image]),this.L(e,t,s.clone(),!0,!1))}}M(e,t){return De(this.R.appURL,{action:e,label:`${t.message}`,value:`${Date.now()}`})}N(e){const t=this.R.getUserAgentClass(e.originalRequest)||"assets";return`${B}-${t}-${this.Q.getClientRevision()}`}async O(e){e.join(", ");const t=(await caches.keys()).filter(e=&gt;new RegExp(`^${B}-.*`).test(e));return(await Promise.all(t.map(async t=&gt;{const s=await caches.open(t);return this.P(s,e)}))).reduce((e,t)=&gt;e+t,0)}async P(e,t){const s=(await e.keys()).filter(e=&gt;{const s=a(e);return-1!==t.indexOf(s)});return(await Promise.all(s.map(t=&gt;e.delete(t)))).filter(e=&gt;e).length}}(gt,ut,wt),At=new class{constructor(e,t,s){this.loading=!1,this.disconnected=!1,this.shuttingDown=!1,this.reconnectAttempt=0,this.Aq=e,this.Ar=t,this.As=s}isDisconnected(){return this.disconnected}async purge(){this.Aq.purge(),await this.Am()}refreshCacheSketch(e=!1){return e||this.Aq.isExpired()?this.Am():Promise.resolve()}connect(){this.reconnectAttempt=0,this.disconnected=!1}async Al(){this.disconnected=!0,this.shuttingDown=!0,await registration.unregister()}disconnect(e=!0){if(this.disconnected=!0,!e||this.shuttingDown)return;const t=Math.min(this.Ar.reconnectInterval*Math.pow(5,this.reconnectAttempt),216e5);this.reconnectAttempt+=1,D(t).then(()=&gt;this.Am())}async Am(){if(navigator.onLine&amp;&amp;!this.loading){this.loading=!0;try{await this.An()}catch(e){this.disconnect()}finally{this.loading=!1}}}async An(){const e=this.Ao(),t=await fetch(e);if(t.status!==R.OK)return t.status===R.Forbidden?(t.status,this.Al()):(t.status,this.disconnect());const s=function(e=null){if(!e)return new Map;const t=e.split(";").map(e=&gt;e.split("=",2));return new Map(t)}(t.headers.get(E));if("true"===s.get("disabled"))return this.disconnect();const r=this.Aq.getClientRevision(),n=s.get("cachingId")||null,a=this.Aq.getServerRevision(),o=(c=r,h=a,null===(l=n)||null===h?c:l===h?c:l);var c,h,l;o!==r&amp;&amp;await this.As.delete(),this.shuttingDown||(this.reconnectAttempt=0,this.disconnected=!1);const u=Date.now(),d=u+this.Ar.refreshInterval,p=u-L(t);await async function(e,t,s){const r=t.headers.get(i);if(!r.startsWith("application/json"))throw new Error(`Weird server reply: ${r}`);const n=await t.json();e.clearRevalidationWhitelist(),e.update(Object.assign({},s,{body:n}))}(this.Aq,t,{maxAge:d,drift:p,serverRevision:n,clientRevision:o})}Ao(){const t={[e]:"application/json"},s=new URL(this.Ap());return s.searchParams.append("BCB","1"),s.searchParams.append("skversion","2.0.1"),new Request(s.toString(),{headers:t})}Ap(){return`${this.Ar.appURL}/bloomfilter`}}(gt,ut,yt),bt=new class{constructor(e,t,s,i){this.Av=e,this.Aw=t,this.Ax=s,this.Ay=i}async isResponseValid(e,t){const s=await this.Ay.getAssetAPIKey(e);return!this.Av.isResponseStale(s,e.contentType,t)&amp;&amp;!this.isCachedResponseExpired(t)&amp;&amp;this.Au(e,t)}async canTakeFromCache(e){if(!navigator.onLine||e.isCritical())return!0;if(this.Av.isInvalid())return e.markAsCacheMiss(F.InvalidCacheSketch),!1;if(e.isNavigateRequest()){if("reload"===e.request.cache)return e.request.cache,e.markAsCacheMiss(F.ReloadCacheMode),this.Aw.purge(),!1;"no-cache"===e.request.cache&amp;&amp;(e.request.cache,this.Aw.refreshCacheSketch(!0))}const t=!this.Av.isRequestStale(await this.Ay.getAssetAPIKey(e));return t||e.markAsCacheMiss(F.UrlInCacheSketch),t}async trackRevalidation(e){this.Av.addToRevalidationWhitelist(await this.Ay.getAssetAPIKey(e))}isCachedResponseExpired(e){const t=T(e,this.Av.getDrift());if(null!==t)return t;const s=function(e){const t=e.headers.get("expires");return t?(Date.now(),Date.now()&gt;Date.parse(t)):null}(e);return null!==s&amp;&amp;s}Au(e,t){return!(t.url&amp;&amp;!c(e,this.Ax.relativeModuleImports)&amp;&amp;(t.url,e.url.toString(),t.url.includes("/v1/asset/")))}}(gt,At,ut,vt),St=new class{constructor(){this.requestHandlers=new Set}addHandler(e){this.requestHandlers.add(e)}fetch(e){try{const t=this.requestHandlers.values(),s=this.Bo(e,t);return s instanceof Promise?s.catch(t=&gt;(t.message,Je(e,!0,H.Error))):s}catch(t){return t.message,Je(e,!0,H.Error)}}Bo(e,t){const{done:s,value:i}=t.next();return s?Je(e,!0,H.Error):i.supportsHandling(e)?(i.constructor.name,i.handle(e,e=&gt;(i.constructor.name,this.Bo(e,t)))):this.Bo(e,t)}},Ct=new class{constructor(e,t){this.CG=e,this.CH=t}async executeFor(e){const{navigation:t}=e,s=await this.CG.getCriticalResources(e);let i=e;for(const r of s){const s={navigation:t,dependsOn:i,critical:!0},n=e.createSubRequest(r,s);e.waitUntil(Promise.resolve(this.CH.fetch(n))),i=n}}}(ut,St),Rt=new class extends Pe{constructor(e,t,s,i,r,n){super(Le.INSTALLING),this.v=e,this.cookieStore=t,this.w=s,this.x=i,this.y=r,this.z=n,this.$=[],this.v.addEventListener("fetch",e=&gt;this.p(e)),this.v.addEventListener("message",e=&gt;e.waitUntil(this.q(e))),this.v.addEventListener("push",e=&gt;this.m(e)),this.v.addEventListener("notificationclick",e=&gt;this.n(e)),this.v.addEventListener("error",e=&gt;this.t(e)),this.v.addEventListener("unhandledrejection",e=&gt;this.u(e))}run(){this.transition(Le.RUNNING)}fail(e){this.transition(Le.FAILED,e)}skipWaiting(){this.v.addEventListener("install",e=&gt;this.skipWaitingUntilActive())}claimClients(){this.v.addEventListener("activate",e=&gt;e.waitUntil(this.v.clients.claim()))}pushHandler(e){this.w.addHandler(e)}pushMessage(e){this.$.push(e)}async watch(e,t,s,i,r){return this.y.watch(e,t,s,i,r)}async load(){try{await this.y.loadAllWatched(),this.x.preloadBloomFilter&amp;&amp;this.z.refreshCacheSketch(),this.run()}catch(e){e.message,this.fail(e.message)}}async skipWaitingUntilActive(){this.v.skipWaiting(),await D(500);const e=this.v.registration.installing||this.v.registration.waiting||this.v.registration.active;if(e&amp;&amp;"activated"!==e.state)return this.skipWaitingUntilActive()}m(e){if(!e.data)return;const t=e.data.json();if(t.isBaqend){const{title:s}=t;e.waitUntil(registration.showNotification(s,t))}}n(e){const{action:t,notification:s}=e;if(!s.data.isBaqend)return;const i=s.data.closeNotification;"close"!==t?(e.waitUntil(this.o(s.data.launchUrl)),i&amp;&amp;setTimeout(s.close.bind(s),1e4)):s.close()}async o(e){if(e)return clients.openWindow(e);const t=await clients.matchAll();return t.length&gt;0?t[0].focus():clients.openWindow("/")}p(e){if(e.request.url,!this.s(e.request))return;const t=Ne.fromEvent(e,this.cookieStore.getCookies(location.origin));if(t.mark("eventStart"),this.state!==Le.FAILED){if(this.state===Le.RUNNING){const s=this.w.fetch(t);return s instanceof Promise?e.respondWith(s.then(e=&gt;e.response?(e.request,e.response):(e.request,e.request.fetchOriginal()))):s.response?(s.request,void e.respondWith(s.response)):void s.request}e.request.url,e.respondWith(this.waitUntil(Le.RUNNING,Le.FAILED).then(e=&gt;e===Le.FAILED?t.fetchOriginal():Promise.resolve(this.w.fetch(t)).then(e=&gt;e.response||e.request.fetchOriginal())))}else e.request.url}async q(e){if(await this.waitUntil(Le.RUNNING,Le.FAILED),this.state===Le.FAILED)return this.r(e,this.reason);const t=e.source;e.data;for(const s of this.$)if(await s.handle(t,e.data,e.ports?e.ports[0]:void 0))return;e.data,await this.r(e,"No message handler could handle.")}async r(e,t){if(e.ports&amp;&amp;e.ports.length)return e.data.type===I?this.load():void e.ports[0].postMessage({reason:t,applicationState:this.state})}s(e){return function(e){return e.url.startsWith("http")}(e)?encodeURI(e.url).length&gt;3800?(e.url,!1):"same-origin"!==e.mode||(e.url,!1):(e.url,!1)}t(e){try{De(this.x.appURL,{action:"swError",label:`${e.error}`,value:`${Date.now()}`})}catch(e){}}u(e){try{De(this.x.appURL,{action:"swRejection",label:`${e.reason}`,value:`${Date.now()}`})}catch(e){}}}(self,pt,St,ut,lt,At);const Bt=new class extends Ke{constructor(e,t,s,i){super(),this.isLastNavigateHandled=!1,this.ignoreNextNavigate=!1,this.loadEvents=0,this.Bs=e,this.Bt=t,this.Bu=s,this.Bv=i}get handledLastNavigate(){return this.isLastNavigateHandled}get loadEventCount(){return this.loadEvents}trackLoadEvent(){this.loadEvents+=1}handle(e,t){if(this.loadEvents=0,this.Bv.navigationPreload&amp;&amp;e.preloadResponse&amp;&amp;!this.Bv.shouldCacheRequest(e))return async function(e){const t=e.preloadResponse;if(!t)throw new TypeError("The request needs to have a Navigation Preload response.");const s=await t;return s?(e.markAsFetched(),new Fe(Me.Origin,H.NavigationPreload,e,Promise.resolve(s))):Je(e,!0,H.NavigationPreload)}(e).then(e=&gt;this.Br(e));if(!e.modifying&amp;&amp;this.ignoreNextNavigate)return this.ignoreNextNavigate=!1,this.Br(Je(e,!0,H.IgnoredAfterPOSTNavigate));this.ignoreNextNavigate=e.modifying&amp;&amp;this.Bv.ignoreAfterPostNavigate;const s=t(e);return s instanceof Promise?s.then(e=&gt;this.Br(e)):this.Br(s)}supportsHandling(e){return e.isNavigateRequest()}Br(e){const{request:t}=e;return this.isLastNavigateHandled=Ge(e),this.isLastNavigateHandled,e.cause===H.NavigationPreload&amp;&amp;e.waitUntil(this.Bs.executeFor(t)),e}}(Ct,dt,At,ut),kt=new class extends Ke{constructor(e){super(),this.B4=e,this.B5=null,this.B6=null}handle(e,t){if(!this.B4.preloadDynamicBlocks)return e.waitUntil(this.B3(e)),t(e);const s=this.B1(e),i=this.Bz(s),r=this.Bz(t(e)),n=Promise.race([i,r]);return this.B0(n),e.waitUntil(Promise.all([r,i.then(()=&gt;this.By())])),n}supportsHandling(e){return e.isNavigateRequest()}popDynamicBlockResponse(){const e=this.B5;return e?(this.B5=null,e):null}wasOriginFasterOnNavigation(){return this.B6===Me.Origin}async By(){if(this.B4.navigationPreload)return D(6e4)}async Bz(e){const t=await e;return await t.response,t}async B0(e){const t=await e;this.B6=t.source}B1(e){return this.B4.navigationPreload&amp;&amp;e.preloadResponse?this.B5=e.preloadResponse.then(t=&gt;t&amp;&amp;t.url===e.originalRequest.url?Je(e,!0,H.DynamicBlockPreload,t):this.B2(e)):this.B5=Promise.resolve(this.B2(e)),this.B5}B2(e){const t=e.createSubRequest(e.originalRequest.url,Object.assign({},e.originalRequest,{credentials:"include"}));Qe(t,this.B4.sdnSetup,!0);const s=D(0).then(()=&gt;t.fetch());return Je(t,!0,H.DynamicBlockPreload,s)}async B3(e){if(await this.B4.shouldFetchOrigin(e.request)){await D(1e3*Be);try{if(!this.B4.sdnSetup)return void await e.fetchOriginal();const t=e.createSubRequest(e.originalRequest.url,Object.assign({},e.originalRequest,{credentials:"include"}));Qe(t,!0,!0),await t.fetch()}catch(e){e.stack}}}}(ut),Et=new class{constructor(e,t,s){this.B=e,this.C=t,this.D=s}A(){return this.B.handledLastNavigate}lastNavigateFromOrigin(){return this.C.wasOriginFasterOnNavigation()||!this.A()&amp;&amp;!this.D.sdnSetup}popDynamicBlockResponse(){return this.C.popDynamicBlockResponse()}setDynamicBlockHeaders(e){Qe(e,this.A(),this.D.sdnSetup)}}(Bt,kt,ut),Nt=new class extends Ke{constructor(e){super(),this.requestsInflightToPromiseMap=new Map,this.Bp=e}async handle(e,t){const s=await this.Bp.getSWCacheKey(e),i=this.requestsInflightToPromiseMap.get(s);if(i){const s=await i;return s.source!==Me.SwCache||e.isCritical()?s.clone(e):t(e)}const r=e.url.searchParams.has(q);if(!e.isCritical()&amp;&amp;!r)return t(e);const n=Promise.resolve(t(e));this.requestsInflightToPromiseMap.set(s,n);const a=await n;return a.source!==Me.SwCache&amp;&amp;a.cause!==H.CacheHit||this.requestsInflightToPromiseMap.delete(s),a}async removeFromInflightList(e){const t=await this.Bp.getSWCacheKey(e);this.requestsInflightToPromiseMap.delete(t)}supportsHandling(e){return!0}}(wt),Ot=new class extends Ke{constructor(e){super(),this.B9=new Map,this.B8=e}release(e){const t=this.B9.get(e);t&amp;&amp;(t(),this.B9.delete(e))}async handle(e,t){const s=e.navigation.clientId,i=this.B9.get(s);return i&amp;&amp;i(),e.url,new Promise(e=&gt;{this.B9.set(s,e)}).then(()=&gt;this.B7(e))}supportsHandling(e){return e.url.pathname.endsWith("/speed-kit-dom-ready.js")}B7(e){return We(e,"",{status:200,headers:{"content-type":"application/javascript","cache-control":"max-age=0, no-cache, no-store",vary:"*"}},H.Delayed)}}(Et),qt=new class extends Ke{constructor(e,t,s,i,r){super(),this.G=e,this.H=t,this.I=s,this.J=i,this.K=r}handle(e,t){if(!this.K.sdnSetup){const t=e.resultingClientId.length?e.resultingClientId:A(e.request.url);this.G.addNotTracked(t)}const s=t(e);return s instanceof Promise?s.then(e=&gt;this.E(e)):this.E(s)}supportsHandling(e){return e.isNavigateRequest()}E(e){const t=!this.J.isDisconnected()&amp;&amp;this.K.isEnabledOnURL(e.request.originalRequest.url),s=t&amp;&amp;this.H.handledLastNavigate;return e.waitUntil(this.F(e,t,s)),e}async F(e,t,s){const i=await e.response;i&amp;&amp;Ve(i)||this.G.capture(ct.fromContext(e,t,s,this.I.lastNavigateFromOrigin(),this.K.getSplitTestId(),this.K.getGroup(),i))}}(dt,Bt,Et,At,ut);Rt.pushHandler(qt),Rt.pushHandler(Bt),Rt.pushHandler(Ot),Rt.pushHandler(new class extends Ke{handle(e,t){if(e.url.href.includes("/db/speedKit.Metric")){const t=e.fetch();return new Fe(Me.Origin,H.Blacklist,e,t)}return e.url,e.method,Je(e,!0,H.Blacklist)}supportsHandling(e){return e.modifying}}),Rt.pushHandler(new class extends Ke{constructor(e,t){super(),this.Bm=e,this.Bn=t}handle(e,t){const s=this.Bm.sdnSetup;if(!e.headers.has(N)&amp;&amp;this.Bn.lastNavigateFromOrigin())return We(e,null,{status:304,statusText:"Page was not served via Speed Kit"},H.DynamicBlock);e.url;const i=this.Bn.popDynamicBlockResponse();return i||(s?(this.Bn.setDynamicBlockHeaders(e),Je(e,!1,H.DynamicBlock,e.fetch())):Je(e,!0,H.DynamicBlock))}supportsHandling(e){return"dynamic"===e.request.headers.get("baqend-speed-kit-request")}}(ut,Et)),Rt.pushHandler(new class extends Ke{constructor(e){super(),this.Bl=e}handle(e,t){return e.url,Je(e,!0,H.Disconnected)}supportsHandling(e){return navigator.onLine&amp;&amp;this.Bl.isDisconnected()}}(At)),Rt.pushHandler(new class extends Ke{constructor(e,t){super(),this.BV=e,this.BW=t}handle(e,t){return e.url,e.isNavigateRequest()&amp;&amp;e.waitUntil(this.BV.executeFor(e)),Je(e,!0,H.Blacklist)}supportsHandling(e){return!e.prewarm&amp;&amp;!this.BW.shouldCacheRequest(e)&amp;&amp;!this.BW.shouldDelayRequest(e)}}(Ct,ut)),Rt.pushHandler(new class extends Ke{constructor(e,t){super(),this.Bw=e,this.Bx=t}async handle(e,t){e.mark(this.Bw);const s=t(e);return e.waitUntil(Promise.resolve(s).then(async e=&gt;{await e.response,e.request.mark(this.Bx)})),s}supportsHandling(e){return!0}}("handleStart","handleEnd")),Rt.pushHandler(new class extends Ke{constructor(e){super(),this.Bi=e}handle(e,t){const{url:s}=e;return s.searchParams.get(O)?(s.searchParams.delete(O),e.url=s,Je(e,!1,H.Delayed,e.fetch())):Promise.resolve().then(async()=&gt;await this.Bi.isEnabledOnSite(e)?this.Be(e,t):t(e))}supportsHandling(e){return this.Bi.shouldDelayRequest(e)}async Be(e,t){return e.contentType===n.Script?this.Bf(e):e.contentType===n.Image?this.Bg(e):t(e)}Bf(e){const t=e.url;t.searchParams.append(O,"1");const s=this.Bi.getDelayOptions(e);return We(e,`(function(){\n  const thisNode = document.currentScript;\n  function loadScript() {\n    const scr = document.createElement('script');\n    for (let i = 0, len = thisNode.attributes.length; i &lt; len; i++) {\n      var attr = thisNode.attributes.item(i);\n      scr.setAttribute(attr.nodeName, attr.nodeValue);\n    }\n    scr.async = true;\n    scr.src = '${t}';\n    thisNode.parentNode.replaceChild(scr, thisNode);\n  }\n  function delayAfter(cb) { ${s.event===Se.SPEED_KIT_DYNAMIC_LOADED?"\n      if (!document.documentElement.classList.contains('speed-kit-dynamic-loading')) {\n        return cb();\n      }\n      document.addEventListener('speed-kit-loaded', () =&gt; {\n        cb();\n      });":"\n      if (document.readyState === 'complete') {\n        return cb();\n      }\n      document.addEventListener('readystatechange', () =&gt; {\n        if (document.readyState === 'complete') {\n          cb();\n         }\n      });"} }\n  delayAfter(() =&gt; {\n    window.setTimeout(() =&gt; {\n      loadScript();\n    }, ${s.timeout});\n  });\n})();\n`,this.Bh("application/javascript; charset=utf-8"),H.Delayed)}Bg(e){const t=Uint8Array.from([71,73,70,56,57,97,1,0,1,0,128,0,0,0,0,0,255,255,255,33,249,4,1,0,0,0,0,44,0,0,0,0,1,0,1,0,0,2,1,68,0,59]);return D(1e3).then(()=&gt;e.fetchOriginal()).catch(console.error),We(e,t,this.Bh("image/gif"),H.Delayed)}Bh(e){return{headers:{[i]:e}}}}(ut)),Rt.pushHandler(new class extends Ke{constructor(e){super(),this.Bj=e}handle(e,t){return Re(this.Bj.isEnabledOnSite(e),s=&gt;s?t(e):Je(e,!0,H.Disabled))}supportsHandling(e){return!e.prewarm}}(ut)),Rt.pushHandler(new class extends Ke{constructor(e){super(),this.Bq=e}handle(e,t){return e.url,e.waitUntil(this.Bq.refreshCacheSketch()),t(e)}supportsHandling(e){return!0}}(At)),Rt.pushHandler(kt),Rt.pushHandler(Nt),Rt.pushHandler(new class extends Ke{constructor(){super(...arguments),this.B$=new _e}async handle(e,t){const s=t(e),i=await s,r=await i.response;return Ge(i)&amp;&amp;r&amp;&amp;Ve(r)?this.resolvePossibleLoop(e,i,r):(this.B$.clear(),i)}resolvePossibleLoop(e,t,s){if(this.B$.addRedirect(e.request,s)){const t=e.fetchOriginal();return t.then(()=&gt;this.B$.clear()),e.markAsFetched(),new Fe(Me.Origin,H.LoopDetected,e,t)}return t}supportsHandling(e){return e.isNavigateRequest()}}),Rt.pushHandler(new class extends Ke{constructor(e,t,s,i){super(),this.CC=e,this.CD=t,this.CF=i,this.CE=s}async handle(e,t){const s=await this.B_(e);if(s)return s;e.url;const i=await t(e);if(!navigator.onLine&amp;&amp;i.cause===H.Error){const t=await this.B_(e);if(t)return t}return this.CA(e,i)}supportsHandling(e){return!0}async B_(e){if(!await this.CD.canTakeFromCache(e))return null;e.mark("cacheStart");const t=await this.CC.loadResponse(e);return e.mark("cacheEnd"),t?(e.url,e.isCritical()?$e(e,!0,H.CriticalResource,t):navigator.onLine?await this.CD.isResponseValid(e,t)?(e.url,$e(e,!0,H.CacheHit,t)):(e.markAsCacheMiss(F.ExpiredResponse),null):(e.url,$e(e,!0,H.Offline,t))):null}async CA(e,t){return this.CF.cachingDisabled||!t.response?(e.url,await this.CE.removeFromInflightList(e),t):(e.waitUntil(this.CB(e,t)),t)}async CB(e,t){try{const s=await t.response;s&amp;&amp;t.source===Me.AssetAPI&amp;&amp;s.status&lt;400&amp;&amp;s.status&gt;=200&amp;&amp;(await this.CC.storeResponse(e,s.clone()),await this.CD.trackRevalidation(e))}catch(t){e.url,t.message}await this.CE.removeFromInflightList(e)}}(yt,bt,Nt,ut)),Rt.pushHandler(new class extends Ke{constructor(e,t,s){super(),this.Bb=e,this.Bc=t,this.Bd=s}handle(e,t){return e.waitUntil(this.Ba(e)),t(e)}supportsHandling(e){return e.isNavigateRequest()}async Ba(e){if(!this.Bd.hasCriticalResources())return;const t=await this.Bc.loadResponse(e);t||await this.Bb.executeFor(e)}}(Ct,yt,ut)),Rt.pushHandler(new class extends Ke{constructor(e){super(),this.BY=e;const[t,s]=x(navigator.userAgent);this.BZ=!("Chrome"===t&amp;&amp;s&lt;64||"Firefox"===t&amp;&amp;s&lt;61)}async handle(e,t){const s=await this.BX(e);return s?Je(e,!0,H.CacheHit,s):t(e)}supportsHandling(e){return this.BZ&amp;&amp;e.isSameOrigin()&amp;&amp;!e.isNavigateRequest()}async BX(e){const t=e.originalRequest.url;try{const e=await fetch(t,{mode:"same-origin",cache:"only-if-cached"});if(!this.BY.isCachedResponseExpired(e))return e}catch(e){}return null}}(bt)),Rt.pushHandler(new class extends Ke{constructor(e,t,s){super(),this.BS=e,this.BT=t,this.BU=s}async handle(e){e.url=await this.BU.createAssetAPIRequest(e);const t=await this.BN(e);return t.status===R.BaqendRedirect?this.BO(e,t):t.status&gt;=R.BadRequest||t.status<r.ok?this.bp(e,t):this.br(e,t)}supportshandling(e){return!0}async bn(e){try{return="" e.mode="this.BQ(e),e.cache=&quot;no-cache&quot;,e.url,e.request.cache,await" e.fetch()}catch(e){const="" t="e" instanceof="" typeerror?r.fetchtypeerror:r.badgateway;return="" new="" response(e.message,{status:t})}}async="" bo(e,t){const="" s="ne(new" url(e.originalrequest.url),t.headers.get("location")),i="await" this.bs.appendstrippedparams(new="" url(s),e),r="new" headers(t.headers);return="" r.set("location",i),we(e,null,{headers:r,status:r.movedtemporarily,statustext:t.statustext},e.getcauseforcachemiss(),me.assetapi)}async="" bp(e,t){if(e.iscritical())return="" je(e,!0,h.error);if(t.status="">=R.InternalServerError)try{const t=await e.fetchOriginal();return t.status&gt;=R.InternalServerError?ze(e,t):(this.BT.isDisconnected()||this.BT.disconnect(),Je(e,!0,H.Error,t))}catch(t){const s=t instanceof TypeError?R.FetchTypeError:R.BadGateway;return ze(e,new Response(t.message,{status:s}))}return t.status,Je(e,!0,H.ClientError)}BQ(e){return e.isSameOrigin()?"same-origin":e.request.headers.has("origin")||e.request.url.startsWith(this.BS.appURL.toLowerCase())?"cors":"no-cors"}BR(e,t){return c(e,this.BS.relativeModuleImports)?(e.url,je(e,!1,e.getCauseForCacheMiss(),t)):function(e,t={}){const{status:s,statusText:i,headers:r}=e,n=Object.assign({status:s,statusText:i,headers:r},t);if(!e.body)return He(e,n);try{return Promise.resolve(new Response(e.body,n))}catch(t){return He(e,n)}}(t).then(t=&gt;(Object.defineProperty(t,"url",{value:e.originalRequest.url.toString()}),e.url,je(e,!1,e.getCauseForCacheMiss(),t)))}}(ut,At,vt)),Rt.pushMessage(new tt(dt)),Rt.pushMessage(new Ze(At)),Rt.pushMessage(new Xe(At)),Rt.pushMessage(new et(At)),Rt.pushMessage(new st(ut,yt,At,pt,St)),Rt.pushMessage(new rt(At,Bt,pt)),Rt.pushMessage(new nt(Ot)),Rt.skipWaiting(),Rt.claimClients(),Rt.watch(ut,pt,gt,ft,mt).then(()=&gt;Rt.load());</r.ok?this.bp(e,t):this.br(e,t)}supportshandling(e){return!0}async></date.now()}isinvalid(){if(null==this.maxage)return!0;const></this.ac;e+=1)t[e]=(s+e*i)%this.ab;return></i;)c=255&t.charcodeat(h)|(255&t.charcodeat(h+=1))<<8|(255&t.charcodeat(h+=1))<<16|(255&t.charcodeat(h+=1))<<24,h+=1,a=27492+(65535&(o=5*(65535&(a=(a^=c=(65535&(c=(c=(65535&c)*r+(((c></t[0]?-1:1).foreach(e=></i.length;r++)t.indexof(i[r])<0&&(s[i[r]]=e[i[r]])}return></body></html>
------MultipartBoundary--GvNk5QKdjzZCfZrBP0KQdbrLGsBHcsqZYUhx3BcNyx------
